; PlatformIO Project Configuration File
;
;   Build options: build flags, source filter
;   Upload options: custom upload port, speed and extra flags
;   Library options: dependencies, extra library storages
;   Advanced options: extra scripting
;
; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html

[env:4d_systems_esp32s3_gen4_r8n16]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino
monitor_speed = 115200
upload_speed = 921600

; 库依赖（PlatformIO 会自动安装）
lib_deps = 
    tzapu/WiFiManager  ; WiFi provisioning
    timum-viw/SocketIoClient  ; Socket.io client
    espressif/esp32-camera  ; OV2640 摄像头
    bodmer/TFT_eSPI         ; ST7789 屏幕
    vincasmiliunas/TB6612FNG  ; TB6612FNG 电机驱动
    earlephilhower/ESP8266Audio  ; I2S 音频支持（兼容 ESP32-S3）

; 构建标志（启用 PSRAM 等）
build_flags = 
    -DBOARD_HAS_PSRAM
    -DCORE_DEBUG_LEVEL=3  ; 调试级别

; TFT_eSPI 配置（自定义引脚，放在 include/TFT_eSPI/User_Setup.h 或直接在代码中定义）
board_build.partitions = default_16MB.csv  ; 如果有 PSRAM，用大分区